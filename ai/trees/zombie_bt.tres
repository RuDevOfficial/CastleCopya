[gd_resource type="BehaviorTree" load_steps=13 format=3 uid="uid://1ljs6o2v5nn0"]

[ext_resource type="Script" uid="uid://bwmnl2wkemyrt" path="res://ai/tasks/LinearMove2D.gd" id="1_gaio8"]
[ext_resource type="Script" uid="uid://c51as8e0wodu1" path="res://ai/tasks/HasHitWall2D.gd" id="2_glfdt"]
[ext_resource type="Script" uid="uid://jx36abkf7xdb" path="res://ai/tasks/FlipSpriteFromDirection.gd" id="3_dlt0a"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_xx3wb"]
var/direction/name = &"direction"
var/direction/type = 2
var/direction/value = 0
var/direction/hint = 0
var/direction/hint_string = ""
var/speed/name = &"speed"
var/speed/type = 3
var/speed/value = 0.0
var/speed/hint = 0
var/speed/hint_string = ""

[sub_resource type="BTAction" id="BTAction_cilis"]
script = ExtResource("1_gaio8")
speed_key = "speed"

[sub_resource type="BTCondition" id="BTCondition_r5vdh"]
script = ExtResource("2_glfdt")
ray_length = 8.0
collision_mask = 1

[sub_resource type="BBVariant" id="BBVariant_v4jox"]
type = 2
saved_value = -1
resource_name = "-1"

[sub_resource type="BTSetVar" id="BTSetVar_svoa4"]
variable = &"direction"
value = SubResource("BBVariant_v4jox")
operation = 3

[sub_resource type="BTAction" id="BTAction_qpw4x"]
script = ExtResource("3_dlt0a")
spriteLooksRight = false

[sub_resource type="BTSequence" id="BTSequence_vtrff"]
children = [SubResource("BTCondition_r5vdh"), SubResource("BTSetVar_svoa4"), SubResource("BTAction_qpw4x")]

[sub_resource type="BTParallel" id="BTParallel_u01i7"]
num_failures_required = 2
repeat = true
children = [SubResource("BTAction_cilis"), SubResource("BTSequence_vtrff")]

[sub_resource type="BTSequence" id="BTSequence_glfdt"]
children = [SubResource("BTParallel_u01i7")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_xx3wb")
root_task = SubResource("BTSequence_glfdt")
